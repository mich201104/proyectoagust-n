<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/perfil.css">
    <title>Mi Perfil - See To Mall</title>
    <link rel="icon" href="images/logo.png" type="image/png">
    <!-- Letra bonita-->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Lobster&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Encabezado principal del sitio -->
    <header class="cabecera-principal">
        <div class="contenedor">
            <!-- Logo de la marca -->
            <a href="index.html" class="logo-marca">
                <img src="images/logo.png" alt="Dino-Bake Logo" width="120">
            </a>
            
            <!-- Navegación principal -->
            <nav class="navegacion-principal">
                <ul class="lista-navegacion">
                    <li class="item-navegacion">
                        <a href="subirproducto.html" class="enlace-navegacion">
                            <img src="images/emprendedor.png" alt="Emprendedores" class="icono-navegacion">
                            <span>Subir productos</span>
                        </a>
                    </li>
                   
                    <li class="item-navegacion">
                        <a href="#mis-productos" class="enlace-navegacion">
                            <img src="images/contacto.png" alt="Contacto" class="icono-navegacion">
                            <span>Ver mis productos</span>
                        </a>
                    </li>
                </ul>
            </nav>
            <a href="perfilemprendedor.html" class="perfil-usuario">
                <img src="images/emprendedor.png" alt="usuario">
            </a>
        </div>
    </header>

<!-- Título de la página -->
    <section class="titulo-pagina">
        <div class="contenedor">
            <h1 class="titulo">Mi Perfil</h1>
        </div>
    </section>

    <!-- Contenido principal del perfil -->
    <main class="contenido-perfil">
        <div class="contenedor">
            <div class="contenido-perfil">
                <div class="contenedor-foto-perfil">
                    <img src="images/foto.png" alt="Foto de perfil" class="foto-perfil" id="fotoPerfil" />
                    <input type="file" id="subirFoto" accept="image/*" style="display: none;" />
                    <button type="button" class="boton-cambiar-foto" id="botonCambiarFoto">
                        Cambiar foto
                    </button>
                </div>

                <!-- Formulario de perfil -->
                <form class="formulario-perfil" id="formularioPerfil">
                    <div class="grupo-formulario">
                        <label for="nombre">Nombre(s)</label>
                        <input type="text" id="nombre" name="nombre" required />
                    </div>

                    <div class="grupo-formulario">
                        <label for="apellidos">Apellidos</label>
                        <input type="text" id="apellidos" name="apellidos" required />
                    </div>

                    <div class="grupo-formulario">
                        <label for="telefono">Teléfono</label>
                        <input type="tel" id="telefono" name="telefono" required />
                    </div>

                    <div class="grupo-formulario">
                        <label for="correo">Correo electrónico</label>
                        <input type="email" id="correo" name="correo" required />
                    </div>

                    <div class="grupo-formulario">
                        <label for="contrasena">Contraseña</label>
                        <input
                          type="password"
                          id="contrasena"
                          name="contrasena"
                          placeholder="Dejar en blanco para no cambiar"
                        />
                    </div>

                    <div class="acciones-formulario">
                        <a href="subirproducto.html" class="boton-regresar">Regresar</a>
                        <button type="button" class="boton-salir" id="botonSalir">Salir</button>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <!-- Carga las funcionalidades del perfil -->
    <script src="../js/perfil.js"></script>

    <!-- Verifica si hay sesión activa y configura el botón de salida -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            // Obtener los datos del usuario logueado
            const usuario = JSON.parse(localStorage.getItem("usuarioLogueado"));

            // Si no hay usuario logueado, redirige a la página principal
            if (!usuario) {
            window.location.href = "index.html";
            return;
            }

            // Configurar el botón de "Salir"
            const botonSalir = document.getElementById("botonSalir");
            if (botonSalir) {
            botonSalir.addEventListener("click", () => {
                // Elimina la sesión del usuario
                localStorage.removeItem("usuarioLogueado");

                // Redirige al inicio
                window.location.href = "index.html";
            });
            }
        });
    </script>

    
</body>
</html>